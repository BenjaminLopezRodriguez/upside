{
  "id": "a576cc36-4241-4cf1-a53c-6e3f05c82e6e",
  "prevId": "fbb938ca-0fcb-4f7e-8f2b-2d62f0cf298c",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.upside_api_key": {
      "name": "upside_api_key",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "upside_api_key_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": true
        },
        "keyPrefix": {
          "name": "keyPrefix",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "upside_api_key_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "scopes": {
          "name": "scopes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::text[]"
        },
        "lastUsedAt": {
          "name": "lastUsedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "api_key_user_idx": {
          "name": "api_key_user_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "upside_api_key_userId_upside_user_id_fk": {
          "name": "upside_api_key_userId_upside_user_id_fk",
          "tableFrom": "upside_api_key",
          "tableTo": "upside_user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.upside_bill": {
      "name": "upside_bill",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "upside_bill_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "vendorName": {
          "name": "vendorName",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "upside_bill_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "dueDate": {
          "name": "dueDate",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "invoiceNumber": {
          "name": "invoiceNumber",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "paidAt": {
          "name": "paidAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "bill_status_idx": {
          "name": "bill_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bill_user_idx": {
          "name": "bill_user_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "upside_bill_userId_upside_user_id_fk": {
          "name": "upside_bill_userId_upside_user_id_fk",
          "tableFrom": "upside_bill",
          "tableTo": "upside_user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.upside_card": {
      "name": "upside_card",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "upside_card_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "last4": {
          "name": "last4",
          "type": "varchar(4)",
          "primaryKey": false,
          "notNull": true
        },
        "cardName": {
          "name": "cardName",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "upside_card_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'virtual'"
        },
        "status": {
          "name": "status",
          "type": "upside_card_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "spendLimit": {
          "name": "spendLimit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 500000
        },
        "currentSpend": {
          "name": "currentSpend",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "card_user_idx": {
          "name": "card_user_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "upside_card_userId_upside_user_id_fk": {
          "name": "upside_card_userId_upside_user_id_fk",
          "tableFrom": "upside_card",
          "tableTo": "upside_user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.upside_integration_link": {
      "name": "upside_integration_link",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "upside_integration_link_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "upside_link_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "upside_link_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "submissions": {
          "name": "submissions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "integration_link_user_idx": {
          "name": "integration_link_user_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "integration_link_slug_idx": {
          "name": "integration_link_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "upside_integration_link_userId_upside_user_id_fk": {
          "name": "upside_integration_link_userId_upside_user_id_fk",
          "tableFrom": "upside_integration_link",
          "tableTo": "upside_user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.upside_merchant": {
      "name": "upside_merchant",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "upside_merchant_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "name": {
          "name": "name",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "logoUrl": {
          "name": "logoUrl",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.upside_reimbursement": {
      "name": "upside_reimbursement",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "upside_reimbursement_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "upside_reimbursement_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "category": {
          "name": "category",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "receiptUrl": {
          "name": "receiptUrl",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "submittedAt": {
          "name": "submittedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "reviewedAt": {
          "name": "reviewedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "reimb_user_idx": {
          "name": "reimb_user_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "upside_reimbursement_userId_upside_user_id_fk": {
          "name": "upside_reimbursement_userId_upside_user_id_fk",
          "tableFrom": "upside_reimbursement",
          "tableTo": "upside_user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.upside_transaction": {
      "name": "upside_transaction",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "upside_transaction_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "cardId": {
          "name": "cardId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "merchantId": {
          "name": "merchantId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "status": {
          "name": "status",
          "type": "upside_transaction_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'completed'"
        },
        "category": {
          "name": "category",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "memo": {
          "name": "memo",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "receiptUrl": {
          "name": "receiptUrl",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "transactionDate": {
          "name": "transactionDate",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "tx_user_idx": {
          "name": "tx_user_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tx_card_idx": {
          "name": "tx_card_idx",
          "columns": [
            {
              "expression": "cardId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tx_date_idx": {
          "name": "tx_date_idx",
          "columns": [
            {
              "expression": "transactionDate",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "upside_transaction_cardId_upside_card_id_fk": {
          "name": "upside_transaction_cardId_upside_card_id_fk",
          "tableFrom": "upside_transaction",
          "tableTo": "upside_card",
          "columnsFrom": [
            "cardId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "upside_transaction_merchantId_upside_merchant_id_fk": {
          "name": "upside_transaction_merchantId_upside_merchant_id_fk",
          "tableFrom": "upside_transaction",
          "tableTo": "upside_merchant",
          "columnsFrom": [
            "merchantId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "upside_transaction_userId_upside_user_id_fk": {
          "name": "upside_transaction_userId_upside_user_id_fk",
          "tableFrom": "upside_transaction",
          "tableTo": "upside_user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.upside_user": {
      "name": "upside_user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "upside_user_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "kindeId": {
          "name": "kindeId",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "default": "'employee'"
        },
        "department": {
          "name": "department",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true,
          "default": "'General'"
        },
        "avatarUrl": {
          "name": "avatarUrl",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "user_email_idx": {
          "name": "user_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_kinde_id_idx": {
          "name": "user_kinde_id_idx",
          "columns": [
            {
              "expression": "kindeId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "upside_user_kindeId_unique": {
          "name": "upside_user_kindeId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "kindeId"
          ]
        },
        "upside_user_email_unique": {
          "name": "upside_user_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.upside_webhook": {
      "name": "upside_webhook",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "upside_webhook_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": true
        },
        "events": {
          "name": "events",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::text[]"
        },
        "status": {
          "name": "status",
          "type": "upside_webhook_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "webhook_user_idx": {
          "name": "webhook_user_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "upside_webhook_userId_upside_user_id_fk": {
          "name": "upside_webhook_userId_upside_user_id_fk",
          "tableFrom": "upside_webhook",
          "tableTo": "upside_user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.upside_api_key_status": {
      "name": "upside_api_key_status",
      "schema": "public",
      "values": [
        "active",
        "revoked"
      ]
    },
    "public.upside_bill_status": {
      "name": "upside_bill_status",
      "schema": "public",
      "values": [
        "draft",
        "pending",
        "scheduled",
        "paid"
      ]
    },
    "public.upside_card_status": {
      "name": "upside_card_status",
      "schema": "public",
      "values": [
        "active",
        "frozen",
        "cancelled"
      ]
    },
    "public.upside_card_type": {
      "name": "upside_card_type",
      "schema": "public",
      "values": [
        "virtual",
        "physical"
      ]
    },
    "public.upside_link_status": {
      "name": "upside_link_status",
      "schema": "public",
      "values": [
        "active",
        "disabled",
        "expired"
      ]
    },
    "public.upside_link_type": {
      "name": "upside_link_type",
      "schema": "public",
      "values": [
        "receipt_scanner",
        "order_pool",
        "fund_request"
      ]
    },
    "public.upside_reimbursement_status": {
      "name": "upside_reimbursement_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected"
      ]
    },
    "public.upside_transaction_status": {
      "name": "upside_transaction_status",
      "schema": "public",
      "values": [
        "pending",
        "completed",
        "declined"
      ]
    },
    "public.upside_webhook_status": {
      "name": "upside_webhook_status",
      "schema": "public",
      "values": [
        "active",
        "failing",
        "disabled"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}